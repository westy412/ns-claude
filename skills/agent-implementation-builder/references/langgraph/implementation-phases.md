# LangGraph Implementation Phases

> **Context:** This reference covers LangGraph-specific implementation details for Phase 4 (Prompts). Read this when you reach Phase 4 of the workflow and the framework is LangGraph.

---

## Phase 4: Prompts (LangGraph)

**Strategy:** Create scaffold first, then sub-agents edit directly. This keeps prompts out of main agent context.

### Step 1: Create prompts.py scaffold

```python
# prompts.py - Generated scaffold

CREATOR_PROMPT = """
# TODO: Generated by prompt-creator sub-agent
"""

CRITIC_PROMPT = """
# TODO: Generated by prompt-creator sub-agent
"""
```

### Step 2: Spawn prompt-creator sub-agents to EDIT the file directly

For each agent, spawn `prompt-creator` sub-agent with:
- Path to prompts.py file
- Which prompt variable to update (e.g., `CREATOR_PROMPT`)
- Agent spec file path (e.g., `agents/creator.md`)
- Prompt config from `agent-config.yaml → agent → prompt`

The sub-agent:
1. Reads the agent spec
2. Invokes `prompt-engineering` skill internally
3. **Edits prompts.py directly** (uses Edit tool to update the placeholder)
4. Does NOT return the prompt to main agent

**Parallel execution:** If 6 agents, spawn 6 prompt-creator agents simultaneously. Each edits a different variable in the same file.

**Why this approach:**
- Prompts don't flow through main agent context
- Sub-agents work directly on the file
- Main agent just waits for completion
- Cleaner context management

---

## XML Tags in Prompts

All prompts MUST use XML tags to structure sections. This improves model comprehension.

```python
CREATOR_PROMPT = """
<role>
You are a content creator...
</role>

<context>
Background information...
</context>

<task>
Your task is to...
</task>

<constraints>
- Constraint 1
- Constraint 2
</constraints>

<output_format>
Return your response as...
</output_format>
"""
```
